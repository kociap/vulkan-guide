<svg width="900" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="blockGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#1565C0;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="meshGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#2E7D32;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="clutterGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#E65100;stop-opacity:0.8" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="450" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    Vertex Formats &amp; Data Compression
  </text>
  
  <!-- Far Field Block Format -->
  <rect x="50" y="60" width="800" height="120" fill="url(#blockGradient)" rx="10" stroke="#1565C0" stroke-width="2"/>
  <text x="450" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
    Far Field Block Format (DrawBlock) - 32 bits total
  </text>
  
  <!-- 32-bit breakdown for block -->
  <g transform="translate(100, 100)">
    <!-- Drawflags -->
    <rect x="0" y="0" width="60" height="40" fill="#FF5722" stroke="white" stroke-width="1"/>
    <text x="30" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">4 bits</text>
    <text x="30" y="55" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Flags</text>
    
    <!-- Position -->
    <rect x="60" y="0" width="180" height="40" fill="#4CAF50" stroke="white" stroke-width="1"/>
    <text x="150" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">12 bits (4+4+4)</text>
    <text x="150" y="55" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Position (x,y,z)</text>
    
    <!-- Type -->
    <rect x="240" y="0" width="120" height="40" fill="#2196F3" stroke="white" stroke-width="1"/>
    <text x="300" y="25" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="white" font-weight="bold">16 bits</text>
    <text x="300" y="55" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Block Type</text>
  </g>
  
  <text x="450" y="160" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Only visible surface blocks • Supports 8×8×8 or 16×16×16 chunks • 4-bit position per axis
  </text>
  
  <!-- Near Field Mesh Format -->
  <rect x="50" y="200" width="800" height="180" fill="url(#meshGradient)" rx="10" stroke="#2E7D32" stroke-width="2"/>
  <text x="450" y="225" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
    Near Field Mesh Format (BlockVertex) - 96 bits total (12 bytes)
  </text>
  
  <!-- BlockVertex breakdown -->
  <g transform="translate(80, 250)">
    <!-- Position -->
    <rect x="0" y="0" width="120" height="40" fill="#3F51B5" stroke="white" stroke-width="1"/>
    <text x="60" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">48 bits (16+16+16)</text>
    <text x="60" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Position XYZ</text>
    <text x="60" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16 unorm chunk-local</text>
    
    <!-- Normal -->
    <rect x="120" y="0" width="80" height="40" fill="#9C27B0" stroke="white" stroke-width="1"/>
    <text x="160" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">16 bits</text>
    <text x="160" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Normal</text>
    <text x="160" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">Octahedral encoded</text>
    
    <!-- UV -->
    <rect x="200" y="0" width="80" height="40" fill="#FF5722" stroke="white" stroke-width="1"/>
    <text x="240" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">32 bits</text>
    <text x="240" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">UV</text>
    <text x="240" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16 × 2 for atlas</text>
    
    <!-- BlockID + Extra -->
    <rect x="280" y="0" width="80" height="40" fill="#607D8B" stroke="white" stroke-width="1"/>
    <text x="320" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">32 bits</text>
    <text x="320" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">ID + Extra</text>
    <text x="320" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16 × 2</text>
  </g>
  
  <text x="450" y="320" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Smooth meshes • Up to 24 vertices per block • 3× memory vs blocks
  </text>
  <text x="450" y="340" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Quad-only topology (no index buffers) • High precision UVs for texture atlas
  </text>
  <text x="450" y="360" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Low-precision octahedral normals adequate for faceted look
  </text>
  
  <!-- Clutter Format -->
  <rect x="50" y="400" width="800" height="160" fill="url(#clutterGradient)" rx="10" stroke="#E65100" stroke-width="2"/>
  <text x="450" y="425" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
    Vegetation Clutter Format (ClutterUnit) - 128 bits total (16 bytes)
  </text>
  
  <!-- ClutterUnit breakdown -->
  <g transform="translate(80, 450)">
    <!-- Position -->
    <rect x="0" y="0" width="90" height="40" fill="#3F51B5" stroke="white" stroke-width="1"/>
    <text x="45" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">48 bits</text>
    <text x="45" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Position</text>
    <text x="45" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16 × 3</text>
    
    <!-- Surface Normal -->
    <rect x="90" y="0" width="80" height="40" fill="#9C27B0" stroke="white" stroke-width="1"/>
    <text x="130" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">16 bits</text>
    <text x="130" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Surface N</text>
    <text x="130" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16</text>
    
    <!-- Settings -->
    <rect x="170" y="0" width="70" height="40" fill="#795548" stroke="white" stroke-width="1"/>
    <text x="205" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">16 bits</text>
    <text x="205" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Settings</text>
    <text x="205" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">Flags</text>
    
    <!-- UV -->
    <rect x="240" y="0" width="70" height="40" fill="#FF5722" stroke="white" stroke-width="1"/>
    <text x="275" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">32 bits</text>
    <text x="275" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">UV</text>
    <text x="275" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint16 × 2</text>
    
    <!-- UV Size -->
    <rect x="310" y="0" width="60" height="40" fill="#607D8B" stroke="white" stroke-width="1"/>
    <text x="340" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">16 bits</text>
    <text x="340" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">UV Size</text>
    <text x="340" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">uint8 × 2</text>
    
    <!-- Tint -->
    <rect x="370" y="0" width="60" height="40" fill="#E91E63" stroke="white" stroke-width="1"/>
    <text x="400" y="20" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white" font-weight="bold">32 bits</text>
    <text x="400" y="32" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="white">Tint</text>
    <text x="400" y="55" font-family="Arial, sans-serif" font-size="8" text-anchor="middle" fill="white">RGBA</text>
  </g>
  
  <text x="450" y="520" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    1 struct per 8 vertices (X-shaped grass) • VertexID / 8 indexing
  </text>
  <text x="450" y="540" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="white">
    Wind animation via vertex shader noise • Sprite UV regions for variety
  </text>
  
  <!-- Memory Comparison -->
  <rect x="50" y="580" width="800" height="140" fill="rgba(0,0,0,0.05)" stroke="#666" rx="10"/>
  <text x="450" y="605" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
    Memory Usage Comparison (per visible block)
  </text>
  
  <g transform="translate(150, 620)">
    <!-- Far field blocks -->
    <rect x="0" y="0" width="30" height="60" fill="#2196F3"/>
    <text x="15" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">Far Field</text>
    <text x="15" y="88" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">4 bytes</text>
    
    <!-- Near field mesh (worst case) -->
    <rect x="80" y="0" width="30" height="60" fill="#4CAF50" transform="scale(1,6)"/>
    <text x="95" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">Near Mesh</text>
    <text x="95" y="88" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">288 bytes</text>
    <text x="95" y="101" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">(24 verts max)</text>
    
    <!-- Clutter (per 8 vertices) -->
    <rect x="160" y="0" width="30" height="60" fill="#FF9800" transform="scale(1,4)"/>
    <text x="175" y="75" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">Clutter</text>
    <text x="175" y="88" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#333">16 bytes</text>
    <text x="175" y="101" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#666">(per 8 verts)</text>
  </g>
  
  <!-- Scale indicator -->
  <line x1="450" y1="630" x2="450" y2="680" stroke="#666" stroke-width="1"/>
  <text x="460" y="655" font-family="Arial, sans-serif" font-size="9" fill="#666">Relative</text>
  <text x="460" y="668" font-family="Arial, sans-serif" font-size="9" fill="#666">Scale</text>
  
  <!-- Key benefits -->
  <text x="450" y="730" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">
    Compression Benefits
  </text>
  <text x="450" y="750" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#666">
    • Memory-bottlenecked rendering requires aggressive compression • Distance-based LOD through format selection
  </text>
  <text x="450" y="765" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#666">
    • Trade precision for memory: octahedral normals, 16-bit positions • Specialized formats for different use cases
  </text>
  <text x="450" y="780" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#666">
    • GPU-friendly alignment and packing • Atlas textures enable UV compression
  </text>
</svg>